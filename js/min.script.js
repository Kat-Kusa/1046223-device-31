var link=document.querySelector(".contacts__button"),popup=document.querySelector(".modal"),area=popup.querySelector(".modal__container"),close=popup.querySelector(".modal__button"),form=popup.querySelector("[name=userfield-form]"),username=popup.querySelector("[name=username]"),email=popup.querySelector("[name=user-mail]"),message=popup.querySelector("[name=user-message]"),link_map=document.querySelector(".contacts__map"),popup_map=document.querySelector(".modal-map"),area_map=popup_map.querySelector(".modal-map__container"),close_map=popup_map.querySelector(".modal-map__button");link.addEventListener("click",function(e){e.preventDefault(),popup.classList.add("modal-show"),area.classList.add("modal-show-animation"),username.focus()}),link_map.addEventListener("click",function(e){e.preventDefault(),popup_map.classList.add("modal-map-show"),area_map.classList.add("modal-map-show-animation")}),close.addEventListener("click",function(e){e.preventDefault(),popup.classList.remove("modal-show"),popup.classList.remove("modal-error")}),close_map.addEventListener("click",function(e){e.preventDefault(),popup_map.classList.remove("modal-map-show"),popup_map.classList.remove("modal-map-error")}),popup.addEventListener("click",function(e){e.target.classList.contains("modal")&&(e.preventDefault(),popup.classList.remove("modal-show"),popup.classList.remove("modal-error"))}),popup_map.addEventListener("click",function(e){e.target.classList.contains("modal-map")&&(e.preventDefault(),popup_map.classList.remove("modal-map-show"),popup_map.classList.remove("modal-map-error"))}),form.addEventListener("submit",function(e){username.value&&email.value&&message.value||(e.preventDefault(),area.classList.remove("modal-error"),popup.offsetWidth=popup.offsetWidth,area.classList.add("modal-error"))}),window.addEventListener("keydown",function(e){27===e.keyCode&&(e.preventDefault(),popup.classList.contains("modal-show")&&(popup.classList.remove("modal-show"),popup.classList.remove("modal-error")))}),window.addEventListener("keydown",function(e){27===e.keyCode&&(e.preventDefault(),popup_map.classList.contains("modal-map-show")&&(popup_map.classList.remove("modal-map-show"),popup_map.classList.remove("modal-map-error")))});
